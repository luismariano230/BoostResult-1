<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Wizard-v2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="css/muli-font.css">
    <link rel="stylesheet" type="text/css" href="fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css"/>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

    <div id="particles-js"></div>

    <!-- scripts -->
    <script src="../../particles.js-master/particles.js"></script>
    <script src="../../particles.js-master/demo/js/app.js"></script>

    <!-- stats.js -->
    <script src="../../particles.js-master/demo/js/lib/stats.js"></script>
    <script>
    var count_particles, stats, update;
    stats = new Stats;
    stats.setMode(0);
    stats.domElement.style.position = 'absolute';
    stats.domElement.style.left = '0px';
    stats.domElement.style.top = '0px';
    document.body.appendChild(stats.domElement);
    count_particles = document.querySelector('.js-count-particles');
    update = function() {
        stats.begin();
        stats.end();
        if (window.pJSDom[0].pJS.particles && window.pJSDom[0].pJS.particles.array) {
        count_particles.innerText = window.pJSDom[0].pJS.particles.array.length;
        }
        requestAnimationFrame(update);
    };
    requestAnimationFrame(update);
    </script>

<div class="page-content">
    
        <div class="wizard-v2-content">
            <div id="autoCarousel" class="carousel slide col-md-6 d-none d-md-block" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active wizard-image" data-bs-interval="10000" style="background: url('https://i.pinimg.com/736x/05/e9/bc/05e9bc4d1609cdbd2a1211d13b43d63f.jpg') center center no-repeat;"></div>
                    <div class="carousel-item wizard-image " data-bs-interval="10000" style="background: url('https://i.pinimg.com/736x/40/3e/ef/403eef5689cce38dab70baeba696566b.jpg') center center no-repeat;"></div>
                    <div class="carousel-item wizard-image" data-bs-interval="10000" style="background: url('https://i.pinimg.com/736x/b9/7c/87/b97c8775fb72f6cb9964ce41a0997d62.jpg') center center no-repeat;"></div>
                </div>
            </div>
            
            <div class="wizard-form col-12 col-md-6">
    
                <div class="wizard-header">
                    <h3>Log in</h3>
                    <p>Acesse sua conta em nossa plataforma.</p>
                </div>
                <form id="formCadastro" class="form-register" action="../../app/controller/UsuarioController.php" method="POST">
                    <div id="form-total">

                        <section id="session2" class="session">
                            <div class="inner">
                                <div class="form-row">
                                    <div  class="form-holder form-holder-2">
                                        <input type="email" placeholder="Email" name="email" class="form-control" id="email">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div  class="form-holder form-holder-2">
                                        <input type="password" placeholder="Senha" name="senha" class="form-control" id="senha">
                                        <button type="button" class="btn btn-sm btn-outline-secondary toggle-password" data-target="senha" style="position:absolute; right:10px; top:50%; transform:translateY(-50%);">üëÅ</button>
                                    </div>
                                </div>
                                
                            </div>
                        </section>   
                        <div class="actions clearfix form-row">
                            
                            <ul role="menu" aria-label="Pagination" class="form-holder">
                                <li id="botaoNext" aria-hidden="false" aria-disabled="false"><a href="#next" role="menuitem">Next</a></li>
                                <li id="botaoFinish"  class="buttonaction" aria-hidden="true" style="display: none;"><a href="#" role="menuitem">Finish</a></li>
                                <input type="hidden" name="acao" value="LOGAR">
                            </ul>
                        </div>
                        <br>
                        <a href="../cadastro/index.html" id="CriarConta">N√£o possui uma conta? Cadastre-se.</a>
                    </div>
                </form>
            </div>
        </div>

</div>

<!-- SCRIPTS -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/jquery.steps.js"></script>
<script src="js/jquery-ui.min.js"></script>

<script>
    var itemAtual = 1;
    $(document).ready(function () {
       

            $('#botaoFinish').click(function(){
                $('#formCadastro').submit();
            });

            $('#botaoFinish').show();

            $('.toggle-password').click(function () {
                const targetId = $(this).data('target');
                const input = $('#' + targetId);
                const tipoAtual = input.attr('type');
                input.attr('type', tipoAtual === 'password' ? 'text' : 'password');
            });

            
            
            $('.toggle-password').click(function () {
                const targetId = $(this).data('target');
                const input = $('#' + targetId);
                const tipoAtual = input.attr('type');
                input.attr('type', tipoAtual === 'password' ? 'text' : 'password');
            });

   
    });

            

   


function showErrorMsg(input, message) {
    clearErrorMsg(input);
    input.addClass('is-invalid');
    input.after('<span class="error-message" style="color:#dc3545; position: position relative; font-size:15px;">' + message + '</span>');
}

function clearErrorMsg(input) {
    input.removeClass('is-invalid');
    input.siblings('.error-message').remove();
}

function calculateAge(dateString) {
    const today = new Date();
    const birthDate = new Date(dateString);
    let age = today.getFullYear() - birthDate.getFullYear();
    const m = today.getMonth() - birthDate.getMonth();
    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
        age--;
    }
    return age;
}

function validarCamposEtapa1() {
    let valido = true;
    const nome = $('#nome');
    const data_nasc = $('#data');
    const sexo = $('#sexo');

    clearErrorMsg(nome);
    clearErrorMsg(data_nasc);
    clearErrorMsg(sexo);

    if (!nome.val().trim()) {
        showErrorMsg(nome, 'Nome √© obrigat√≥rio');
        valido = false;
    }

    if (!data_nasc.val()) {
        showErrorMsg(data_nasc, 'Data inv√°lida');
        valido = false;
    } else {
        const age = calculateAge(data_nasc.val());
        if (age < 5 || age > 120) {
            showErrorMsg(data_nasc, 'Idade inv√°lida');
            valido = false;
        }
    }

    if (!sexo.val()) {
        showErrorMsg(sexo, 'Selecione uma op√ß√£o');
        valido = false;
    }

    return valido;
}

function validarCamposEtapa2() {
    let valido = true;
    const email = $('#email');
    const telefone = $('#telefone');
    const senha = $('#senha');
    const confirmarSenha = $('#confirmar-senha');

    clearErrorMsg(email);
    clearErrorMsg(telefone);
    clearErrorMsg(senha);
    clearErrorMsg(confirmarSenha);

    if (!email.val().trim()) {
        showErrorMsg(email, 'Email √© obrigat√≥rio');
        valido = false;
    } else if (!/^\S+@\S+\.\S+$/.test(email.val())) {
        showErrorMsg(email, 'Formato de email inv√°lido');
        valido = false;
    }

    if (!telefone.val().trim()) {
        showErrorMsg(telefone, 'Telefone √© obrigat√≥rio');
        valido = false;
    }

    if (!senha.val()) {
        showErrorMsg(senha, 'Senha √© obrigat√≥ria');
        valido = false;
    } else if (senha.val().length < 6) {
        showErrorMsg(senha, 'Senha deve ter pelo menos 6 caracteres');
        valido = false;
    }

    if (senha.val() !== confirmarSenha.val()) {
        showErrorMsg(confirmarSenha, 'As senhas n√£o coincidem');
        valido = false;
    }

    return valido;
}

function validarCamposEtapa3() {
    const tipoSelecionado = $('input[name="tipo"]:checked').val();
    if (!tipoSelecionado) {
        alert("Selecione se voc√™ √© aluno ou personal.");
        return false;
    }
    return true;
}

</script>


	

</body>
</html>
